<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			li{list-style: none;}
			ul{width: 800px;height: 150px;border: 1px solid #ccc;overflow: hidden;}
			ul li{border-bottom: 1px dashed #ccc;cursor: pointer;background: url(img/img2.png)no-repeat left center;padding-left: 50px;height: 50px;}
			textarea{width: 800px;height: 300px;display: block;}
			
			
			
			
			ul div{margin:10px 0px 10px 0px;border-radius: 3px;background: palegreen url(img/img2.png)  no-repeat left center;padding:10px 0px 10px 50px;height: 20px;}
             textarea{width: 600px;height:70px;}
            .del{display:inline-block; float:right;cursor: pointer;}
          
		</style>
	</head>
	<body>
		<ul id="list">
			<!--<li>小弟一号 </li>
			<li>小弟2号 </li>-->
			<!--<li>小弟3号 </li>
			<li>小弟4号 </li>
			<li>小弟5号 </li>-->
		</ul>
		<textarea name="" rows="" cols="" id="txt"></textarea>
		<input type="button" name="" id="add-first" value="首部添加" />
		<input type="button" name="" id="add-last" value="尾部添加" />
		<input type="button" name="btn" id="btn" value="提交" />
		
		
	</body>
	<script src="../js/base.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/move.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var oFirstBtn=$("add-first");
		var oLastBtn=$("add-last");
		var oUl=$("list");
		var oLii=document.getElementsByTagName("li");
		var txt=document.getElementById("txt");
		var btn=document.getElementById("btn");
		
		
		oLastBtn.onclick=function () {
			var oLi=document.createElement("li");
			oLi.innerHTML="我是小小君，年轻就是好啊~";
//			oLi.title="我要走了，亲~";
			oUl.appendChild(oLi);//ul尾部添加一个新的li
			
			oLi.onclick=function(){
				oUl.removeChild(this);
			}
		};
		
		
		oFirstBtn.onclick=function () {
			var oLi=document.createElement("li");
			oLi.innerHTML="我是老太君，就是牛~";
//			oLi.title="我要走了，亲~";
			oUl.insertBefore(oLi,oUl.firstChild)//ul尾部添加一个新的li ==firstChild 里面是不包东西的
			oLi.onclick=function(){
				oUl.removeChild(this);
			}
		};



       for (var i = 0; i < oLii.length; i++) {//原来的li要先遍历，，添加的li已经编好号了，可以用this
		oLii[i].onclick=function(){
//				oUl.removeChild(oUl.childNodes[2]);
         this.parentNode.removeChild(this);
//				var x=otest.removeChild(otest.childNodes[1]);
		}
	};
	
	
	
	
	btn.onclick=function () {
			
			
			
			if(txt.value==''){
			alert('输入内容为空')
			}else{
		var mes = txt.value;
		var mesBox =document.createElement("div");
		    mesBox.innerHTML=mes;
		
//		setTimeout(function(){
		if(oUl.childNodes.length==0){
		oUl.appendChild(mesBox);
		}else{
		oUl.insertBefore(mesBox,oUl.childNodes[0])}
		
		
		
		var oDel=document.createElement('a');
	    oDel.innerHTML='删除';
//	     oDel.setAttribute("class",'del');
		oDel.className='del';
		oDel.onclick=function(){
		this.parentNode.parentNode.removeChild(this.parentNode);
		}
		mesBox.appendChild(oDel);
		
		
		
//		var txts = document.createElement("p");
//		mesBox.appendChild(txts);
//		},500);
		txt.value='';
		
		
		
		
		
		var iHeight=oUl.children[0].offsetHeight;
		oUl.children[0].style.height=0
		oUl.children[0].style.filter='alpha(opacity:0)'
		oUl.children[0].style.opacity='0'
		/*startMove(oCon.children[0],{height:iHeight},function(){
			startMove(oCon.children[0],{opacity:'100'})
			})*/
			startMove(oUl.children[0],{height:iHeight,opacity:'100'})
			
		}
		
		
		}
		
		
	</script>
</html>




<!--textarea  :比较特殊用value值来获取
获取值： value  innerHTML，  innerText  

学会拆分和管理你的代码-->